# BROEN-LAB Chat Proxy Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# Core Configuration
# =============================================================================
PORT=3000
BASE_URL=http://localhost:3000
NODE_ENV=development

# =============================================================================
# Session Configuration
# =============================================================================
# Strong random string for session encryption (required in production)
SESSION_SECRET=replace_with_32_or_more_random_characters

# Cookie security settings
SESSION_COOKIE_SECURE=false  # Set to true in production (HTTPS)
SESSION_COOKIE_SAMESITE=lax  # Options: lax, strict, none

# Redis connection (required in production)
# Format: redis://localhost:6379 or rediss://:password@host:6380 (SSL)
REDIS_URL=redis://localhost:6379

# =============================================================================
# Microsoft Entra ID (Azure AD) Configuration
# =============================================================================
# Get these from Azure Portal > Microsoft Entra ID > App registrations
ENTRA_TENANT_ID=your-tenant-id-here
ENTRA_CLIENT_ID=your-client-id-here
ENTRA_CLIENT_SECRET=your-client-secret-here

# Authorization: Object ID of the security group allowed to access the app
# Users must be members of this group to use the application
ENTRA_ALLOWED_GROUP_ID=your-group-object-id-here

# OAuth paths (defaults shown, usually don't need to change)
ENTRA_REDIRECT_PATH=/auth/callback
ENTRA_POST_LOGOUT_REDIRECT_PATH=/

# =============================================================================
# N8N Webhook Configuration
# =============================================================================
N8N_WEBHOOK_URL=https://n8n-instance.example.com/webhook/your-webhook-id/chat
N8N_WEBHOOK_URL_TEST=
N8N_USERNAME=your-n8n-username
N8N_PASSWORD=your-n8n-password

# =============================================================================
# Legacy Authentication (Disabled by Default)
# =============================================================================
# Enable username/password login (not recommended for production)
ENABLE_LEGACY_PASSWORD_LOGIN=false
JWT_SECRET=replace_with_a_long_random_string
